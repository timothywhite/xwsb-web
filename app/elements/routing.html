
<script src="../../bower_components/page/page.js"></script>

<script>
  window.addEventListener('WebComponentsReady', function() {
    var squad = document.querySelector('xwsb-squad'),
        setRoute = function(route) {
        return function(ctx, next) {
            app.route = route;
            ctx.handled = true;
            next();
        };
    };
    
    page('/', setRoute('new'));
    page('/new/:faction', setRoute('squad'), function(ctx) {
        app.faction = ctx.params.faction;
        squad.clear();
    });
    page('/squad/:id', setRoute('squad'), function(ctx) {
        squad.id = ctx.params.id;
    });
    page({
      hashbang: true
    });

  });
</script>
